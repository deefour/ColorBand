/*! ColorBand - v1.3.0 - 2012-11-05
* https://github.com/deefour/colorBand
* Copyright (c) 2012 Jason Daly and other contributors; Licensed MIT */
(function(e,t,n){"use strict";function o(t,n){this.element=t,this.$element=e(this.element),this.options=e.extend({},s,n);var i=this;e.each(["height","minWidth","maxWidth"],function(){i.options[this]=+i.options[this].toString().replace(/\D/g,"")}),this._mode=this.options.mode;if(this._mode==="auto")this._mode=this._isCanvasSupported()?"canvas":"html";else if(this._mode==="canvas"&&!this._isCanvasSupported())return;typeof this.options.pattern=="string"&&/^\d+$/.test(this.options.pattern)&&(this.options.pattern=this.options.pattern.split("").map(function(e){return+e})),this._defaults=s,this._name=r,this.init()}var r="colorBand",i=t.document,s={height:8,minWidth:10,maxWidth:50,mode:"auto",pattern:"random",regenOnResize:!0,regenOnOrientationChange:!0,ignoreCss:!1,containerClass:"colorband",units:"px",preventSameColorSiblings:!0,colors:["#94BFB1","#719071","#EB6861","#F09862","#F8B56C","#FBE688"]};o.prototype={init:function(){this.options.ignoreCss||this.$element.css({position:"relative","padding-top":0,"padding-left":0,"padding-right":0,"margin-top":0,"margin-left":0,"margin-right":0,"line-height":1}),this._mode==="html"?(this.$container=e("<div />").addClass(this.options.containerClass),this.options.ignoreCss||this.$container.css({position:"relative",margin:0,padding:0,top:0,left:0,height:this.options.height+this.options.units,"white-space":"nowrap","overflow-x":"hidden","overflow-y":"visible","line-height":this.options.height+this.options.units})):(this.$container=e("<canvas />").addClass(this.options.containerClass),this.$container.attr({height:this.options.height}),this.options.ignoreCss||this.$container.css({position:"relative",margin:0,padding:0,"line-height":this.options.height+this.options.units})),this.$element.prepend(this.$container),this.options.regenOnResize&&e(t).on("resize",e.proxy(this.render,this)),this.options.regenOnOrientationChange&&e(t).on("orientationchange",e.proxy(this.render,this)),this.render()},_reset:function(){if(this._mode==="html")this.$container.empty(),this.$container.width(this.$element.width());else{var e=this.$container.get(0),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.$container.attr("width",this.$element.width())}this._patternPointer=-1},_renderChunk:function(t,n,r){if(this._mode==="html"){var i=e("<div />").addClass("chunk").css({background:this.options.colors[t],width:n+this.options.units});this.options.ignoreCss||i.css({height:this.options.height+this.options.units,"line-height":this.options.height+this.options.units,display:"inline-block",padding:0,margin:0}),this.$container.append(i)}else{var s=this.$container.get(0).getContext("2d");s.fillStyle=this.options.colors[t],s.fillRect(r+1,0,r+1+n,this.options.height)}},_getColor:function(t){var n=this.options.colors.length,r;if(e.isArray(this.options.pattern))r=this.options.pattern[++this._patternPointer%this.options.pattern.length];else if(this.options.pattern==="sequential")r=++t%n;else{r=Math.floor(Math.random()*n);if(this.options.preventSameColorSiblings)while(r===t)r=this._getColor(t)}return r},render:function(){this._reset();var e=Math.ceil(this.$container.width()/this.options.minWidth),t=this.$container.width(),n=-1,r=-1,i,s;while(--e>0&&r<t)i=n=this._getColor(n),s=Math.floor(Math.random()*(this.options.maxWidth-this.options.minWidth)+this.options.minWidth),this._renderChunk(i,s,r),r+=s},_isCanvasSupported:function(){var e=i.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")}},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new o(this,t))})}})(jQuery,window);